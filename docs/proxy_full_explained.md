---
layout: default
title: ูพุฑูฺฉุณ ุจุง ุชูุถุญุงุช ฺฉุงููุชุฑ
permalink: /docs/proxyfullexplained/
---

# ๐ Rubingo Proxy Guide | ุฑุงูููุง ูพุฑูฺฉุณ ุฑูุจูฺฏู

> ฺฉุชุงุจุฎุงูู Go ุจุฑุง ุงุฑุชุจุงุท ุจุง ุฑูุจฺฉุง ุงุฒ ุทุฑู ูพุฑูฺฉุณ

[![Go Version](https://img.shields.io/badge/Go-1.18+-blue.svg)](https://golang.org)
[![License](https://img.shields.io/badge/License-MIT-green.svg)](LICENSE)

---

## ๐ ููุฑุณุช ูุทุงูุจ

- [ูพุฑูฺฉุณ ฺุณุชุ](#-ูพุฑูฺฉุณ-ฺุณุช)
- [ูุตุจ ู ุขูุงุฏูโุณุงุฒ](#-ูุตุจ-ู-ุขูุงุฏูโุณุงุฒ)
- [ุฑูุดโูุง ุชูุธู ูพุฑูฺฉุณ](#-ุฑูุดโูุง-ุชูุธู-ูพุฑูฺฉุณ)
- [ูุนุงู ู ุบุฑูุนุงู ฺฉุฑุฏู](#-ูุนุงู-ู-ุบุฑูุนุงู-ฺฉุฑุฏู)
- [ุชุบุฑ ูพุฑูฺฉุณ ุฏุฑ ุฒูุงู ุงุฌุฑุง](#-ุชุบุฑ-ูพุฑูฺฉุณ-ุฏุฑ-ุฒูุงู-ุงุฌุฑุง)
- [ูุซุงูโูุง ฺฉุงุฑุจุฑุฏ](#-ูุซุงูโูุง-ฺฉุงุฑุจุฑุฏ)
- [ูุฑูุช ุขุฏุฑุณ ูพุฑูฺฉุณ](#-ูุฑูุช-ุขุฏุฑุณ-ูพุฑูฺฉุณ)
- [ุฌุฏูู ูุชุฏูุง](#-ุฌุฏูู-ูุชุฏูุง)
- [ุณูุงูุงุช ูุชุฏุงูู](#-ุณูุงูุงุช-ูุชุฏุงูู)
- [ุนุจโุงุจ](#-ุนุจโุงุจ)

---

## ๐ค ูพุฑูฺฉุณ ฺุณุชุ

> **๐ก ุชูุถุญ ุณุงุฏู:**
>
> ูพุฑูฺฉุณ ูุซู ฺฉ **ูุงุณุทู** ุจู ุดูุง ู ุงูุชุฑูุช ุงุณุช.
> ููุช ูพุฑูฺฉุณ ูุนุงู ุจุงุดุฏุ ุฏุฑุฎูุงุณุชโูุง ุดูุง ุงุจุชุฏุง ุจู ุณุฑูุฑ ูพุฑูฺฉุณ ูโุฑููุฏ
> ู ุณูพุณ ุงุฒ ุขูุฌุง ุจู ุฑูุจฺฉุง ุงุฑุณุงู ูโุดููุฏ.
>
> **ฺุฑุง ุงุณุชูุงุฏู ฺฉููุ**
> - ุฏูุฑ ุฒุฏู ูุญุฏูุฏุชโูุง ุดุจฺฉู
> - ุงูุฒุงุด ุงููุช ู ุญุฑู ุฎุตูุต
> - ุชุบุฑ IP ุจุฑุง ุฌููฺฏุฑ ุงุฒ ุจูุงฺฉ ุดุฏู

### ุจุฏูู ูพุฑูฺฉุณ:
```
ุดูุง โโโโโโโโโโโโโโโโโโโโโโโโโโโบ ุฑูุจฺฉุง
```

### ุจุง ูพุฑูฺฉุณ:
```
ุดูุง โโโโโบ ุณุฑูุฑ ูพุฑูฺฉุณ โโโโโบ ุฑูุจฺฉุง
```

---

## ๐ฆ ูุตุจ ู ุขูุงุฏูโุณุงุฒ

> **๐ก ุชูุถุญ ุณุงุฏู:**
>
> ูุจู ุงุฒ ุงุณุชูุงุฏู ุงุฒ ูพุฑูฺฉุณุ ุจุงุฏ ุขุฏุฑุณ ูพุฑูฺฉุณ ุฑุง ุฏุงุดุชู ุจุงุดุฏ.
> ุงู ุขุฏุฑุณ ูุนูููุงู ุงุฒ ุณุฑูุณโุฏููุฏู ูพุฑูฺฉุณ ุจู ุดูุง ุฏุงุฏู ูโุดูุฏ.

```bash
go get github.com/yourname/rubingo
```

### ุขุฏุฑุณ ูพุฑูฺฉุณ ุดูุง ฺุฒ ุดุจู ุงู ุงุณุช:

```
http://username:password@host:port
```

**ูุซุงู ูุงูุน:**
```
http://spzl3fr6ok:zvnucb12yw9ZB=u3AW@gate.decodo.com:10001
```

| ุจุฎุด | ููุฏุงุฑ | ุชูุถุญ |
|-----|-------|-------|
| `http://` | ูพุฑูุชฺฉู | ููุน ุงุชุตุงู |
| `spzl3fr6ok` | username | ูุงู ฺฉุงุฑุจุฑ ูพุฑูฺฉุณ |
| `zvnucb12yw9ZB=u3AW` | password | ุฑูุฒ ุนุจูุฑ ูพุฑูฺฉุณ |
| `gate.decodo.com` | host | ุขุฏุฑุณ ุณุฑูุฑ ูพุฑูฺฉุณ |
| `10001` | port | ูพูุฑุช ุณุฑูุฑ ูพุฑูฺฉุณ |

---

## ๐ง ุฑูุดโูุง ุชูุธู ูพุฑูฺฉุณ

### ุฑูุด ฑ: ุชูุธู ููฺฏุงู ุณุงุฎุช ฺฉูุงูุช (ูพุดููุงุฏ โ)

> **๐ก ุชูุถุญ ุณุงุฏู:**
>
> ููุช ฺฉูุงูุช (ุฑุจุงุช) ุฑุง ูโุณุงุฒุฏุ ุขุฏุฑุณ ูพุฑูฺฉุณ ุฑุง ูู ุจุฏูุฏ.
> **ุชูุฌู:** ููุท ุฏุงุฏู ุขุฏุฑุณ ฺฉุงู ูุณุช! ุจุงุฏ ุขู ุฑุง ูุนุงู ูู ฺฉูุฏ.

```go
package main

import (
    "log"
    "github.com/yourname/rubingo"
)

func main() {
    myProxy := "http://spzl3fr6ok:zvnucb12yw9ZB=u3AW@gate.decodo.com:10001"

    client, err := rubingo.NewClient("my_bot",
        rubingo.WithProxy(myProxy),         // โ ุขุฏุฑุณ ูพุฑูฺฉุณ
        rubingo.WithProxyEnabled(true),      // โ ูุนุงู ฺฉุฑุฏู ูพุฑูฺฉุณ
    )
    if err != nil {
        log.Fatal(err)
    }

    // ุงุฒ ุงูุฌุง ุจู ุจุนุฏ ููู ุฏุฑุฎูุงุณุชโูุง ุงุฒ ูพุฑูฺฉุณ ุฑุฏ ูโุดููุฏ
    client.Connect()
}
```

> **โ๏ธ ูฺฉุชู ููู:**
>
> ุงฺฏุฑ ููุท `WithProxy(myProxy)` ุจููุณุฏ ูู `WithProxyEnabled(true)` ูููุณุฏุ
> ูพุฑูฺฉุณ **ุบุฑูุนุงู** ุฎูุงูุฏ ุจูุฏ! ูุฑ ุฏู ูุงุฒู ุงุณุช.

---

### ุฑูุด ฒ: ุชูุธู ุจุฏูู ูุนุงูโุณุงุฒ (ูุนุงู ฺฉุฑุฏู ุจุนุฏุงู)

> **๐ก ุชูุถุญ ุณุงุฏู:**
>
> ุขุฏุฑุณ ูพุฑูฺฉุณ ุฑุง ุฐุฎุฑู ฺฉูุฏ ูู ูููุฒ ูุนุงู ูฺฉูุฏ.
> ุจุนุฏุงู ุฏุฑ ูุฑ ุฌุง ฺฉุฏ ฺฉู ุฎูุงุณุชุฏ ูุนุงูุด ฺฉูุฏ.

```go
// ููุท ุขุฏุฑุณ ุฑุง ุชูุธู ฺฉู (ูููุฒ ุบุฑูุนุงู ุงุณุช)
client, _ := rubingo.NewClient("my_bot",
    rubingo.WithProxy("http://user:pass@host:port"),
    // WithProxyEnabled ูุฏุงุฑู โ ูพุณ ุบุฑูุนุงู ุงุณุช
)

client.Connect()

// ... ฺฉุฏูุง ุฏฺฏุฑ (ุจุฏูู ูพุฑูฺฉุณ ฺฉุงุฑ ูโฺฉููุฏ) ...

// ุญุงูุง ูุนุงูุด ฺฉู!
client.EnableProxy()

// ุงุฒ ุงูุฌุง ุจู ุจุนุฏ ุจุง ูพุฑูฺฉุณ ุงุณุช
```

---

### ุฑูุด ณ: ุชูุธู ุจุนุฏ ุงุฒ ุณุงุฎุช ฺฉูุงูุช

> **๐ก ุชูุถุญ ุณุงุฏู:**
>
> ุงฺฏุฑ ููฺฏุงู ุณุงุฎุช ฺฉูุงูุช ุขุฏุฑุณ ูพุฑูฺฉุณ ุฑุง ูุฏุงุดุชุฏุ
> ูโุชูุงูุฏ ุจุนุฏุงู ุขู ุฑุง ุชูุธู ฺฉูุฏ.

```go
client, _ := rubingo.NewClient("my_bot")
client.Connect()

// ุจุนุฏุงู ุขุฏุฑุณ ูพุฑูฺฉุณ ุฑุง ุชูุธู ู ูุนุงู ฺฉู
client.SetProxy("http://user:pass@host:port")
client.EnableProxy()
```

---

## โก ูุนุงู ู ุบุฑูุนุงู ฺฉุฑุฏู

> **๐ก ุชูุถุญ ุณุงุฏู:**
>
> ูุซู ฺฉ **ฺฉูุฏ ุจุฑู** ุนูู ูโฺฉูุฏ:
> - `EnableProxy()` = ุฑูุดู ฺฉุฑุฏู ๐ข
> - `DisableProxy()` = ุฎุงููุด ฺฉุฑุฏู ๐ด
> - `IsProxyEnabled()` = ฺฺฉ ฺฉุฑุฏู ุฑูุดู ุง ุฎุงููุด ุจูุฏู โ

```go
// ูุนุงู ฺฉุฑุฏู
client.EnableProxy()

// ุบุฑูุนุงู ฺฉุฑุฏู
client.DisableProxy()

// ุจุฑุฑุณ ูุถุนุช
if client.IsProxyEnabled() {
    fmt.Println("ูพุฑูฺฉุณ ูุนุงู ุงุณุช โ")
} else {
    fmt.Println("ูพุฑูฺฉุณ ุบุฑูุนุงู ุงุณุช โ")
}
```

> **๐ก ูฺฉุชู:**
>
> ููุช ูพุฑูฺฉุณ ุฑุง ูุนุงู ูโฺฉูุฏุ **ูุนุงู ูโูุงูุฏ** ุชุง ุฒูุงู ฺฉู ุบุฑูุนุงูุด ฺฉูุฏ.
> ูุงุฒ ูุณุช ูุจู ุงุฒ ูุฑ ุฏุฑุฎูุงุณุช ุฏูุจุงุฑู `EnableProxy()` ุจุฒูุฏ.
> ุงูุง ุงฺฏุฑ ูุฑ ุจุงุฑ ูู ุจุฒูุฏุ **ูฺ ูุดฺฉู ุงุฌุงุฏ ููโุดูุฏ**.

---

## ๐ ุชุบุฑ ูพุฑูฺฉุณ ุฏุฑ ุฒูุงู ุงุฌุฑุง

> **๐ก ุชูุถุญ ุณุงุฏู:**
>
> ุฏุฑ ุญู ุงุฌุฑุง ุจุฑูุงูู ูโุชูุงูุฏ ุขุฏุฑุณ ูพุฑูฺฉุณ ุฑุง ุนูุถ ฺฉูุฏ ุง ุขู ุฑุง ุฎุงููุด ู ุฑูุดู ฺฉูุฏ.
> ูุงุฒ ุจู ุฑุณุชุงุฑุช ุจุฑูุงูู ูุณุช!

```go
// ุดุฑูุน ุจุง ูพุฑูฺฉุณ ุงูู
client.SetProxy("http://user1:pass1@proxy1.com:8080")
client.EnableProxy()

// ุงุฑุณุงู ุดูุงุฑู (ุจุง ูพุฑูฺฉุณ ฑ)
result, _ := client.SendCodeExt("989123456789", "")

// ุชุบุฑ ุจู ูพุฑูฺฉุณ ุฏูู
client.SetProxy("http://user2:pass2@proxy2.com:9090")
// ูุงุฒ ุจู EnableProxy ูุณุช ฺูู ูุจูุงู ูุนุงู ุดุฏู

// ุงุฑุณุงู ฺฉุฏ ุชุงุฏ (ุจุง ูพุฑูฺฉุณ ฒ)
signIn, _ := client.SignInExt(code, phone, hash, tmpSession)

// ุบุฑูุนุงู ฺฉุฑุฏู ูพุฑูฺฉุณ
client.DisableProxy()

// ุงุฑุณุงู ูพุงู (ุจุฏูู ูพุฑูฺฉุณ)
client.SendMessage(...)

// ุฏูุจุงุฑู ูุนุงู ฺฉุฑุฏู
client.EnableProxy()
```

> **๐ก ูฺฉุชู:** ุชุบุฑ ูพุฑูฺฉุณ **thread-safe** ุงุณุช. ุญุช ุงฺฏุฑ ููุงู ูุญุธู ุฏุฑุฎูุงุณุชโูุง ุฏุฑ ุญุงู ุงุฑุณุงู ุจุงุดูุฏุ ูุดฺฉู ูพุด ููโุขุฏ.

---

## ๐ ูุซุงูโูุง ฺฉุงุฑุจุฑุฏ

### ูุซุงู ฑ: ูุงฺฏู ฺฉุงูู ุจุง ูพุฑูฺฉุณ ููุดู ูุนุงู

```go
package main

import (
    "bufio"
    "fmt"
    "log"
    "os"
    "strings"

    "github.com/yourname/rubingo"
)

func main() {
    client, err := rubingo.NewClient("my_bot",
        rubingo.WithProxy("http://spzl3fr6ok:zvnucb12yw9ZB=u3AW@gate.decodo.com:10001"),
        rubingo.WithProxyEnabled(true),
        rubingo.WithSessionCallback(func(data rubingo.SessionData) {
            fmt.Printf("โ Session saved: %s\n", data.GUID)
        }),
    )
    if err != nil {
        log.Fatal(err)
    }

    if err := client.Connect(); err != nil {
        log.Fatal(err)
    }

    reader := bufio.NewReader(os.Stdin)

    // ูุฑุญูู ฑ: ุงุฑุณุงู ุดูุงุฑู (ุจุง ูพุฑูฺฉุณ โ)
    fmt.Print("๐ฑ Phone number: ")
    phone, _ := reader.ReadString('\n')
    phone = strings.TrimSpace(phone)

    result, err := client.SendCodeExt(phone, "")
    if err != nil {
        log.Fatal(err)
    }
    fmt.Println("โ Code sent!")

    // ูุฑุญูู ฒ: ุงุฑุณุงู ฺฉุฏ ุชุงุฏ (ุจุง ูพุฑูฺฉุณ โ)
    fmt.Print("๐ Code: ")
    code, _ := reader.ReadString('\n')
    code = strings.TrimSpace(code)

    signIn, err := client.SignInExt(code, phone, result.PhoneCodeHash, result.TmpSession)
    if err != nil {
        log.Fatal(err)
    }

    client.ApplySignInResult(signIn)
    fmt.Printf("โ Logged in! GUID: %s\n", signIn.UserGUID)

    // ูุฑุญูู ณ: ุงุฌุฑุง ุฑุจุงุช (ุจุง ูพุฑูฺฉุณ โ)
    client.OnMessage(func(u *rubingo.Update) {
        fmt.Printf("๐ฉ %s: %s\n", u.AuthorGUID(), u.Text())
        u.Reply("ุณูุงู! ูพุงู ุดูุง ุฏุฑุงูุช ุดุฏ")
    })

    fmt.Println("๐ค Bot is running with proxy...")
    client.Run()
}
```

---

### ูุซุงู ฒ: ูุงฺฏู ุจุง ฺฉูุชุฑู ูพุฑูฺฉุณ ุฏุฑ ูุฑ ูุฑุญูู

```go
func main() {
    client, err := rubingo.NewClient("my_bot",
        rubingo.WithProxy("http://user:pass@host:port"),
        // ูพุฑูฺฉุณ ุบุฑูุนุงู (ูพุดโูุฑุถ)
    )
    if err != nil {
        log.Fatal(err)
    }

    client.Connect()
    reader := bufio.NewReader(os.Stdin)

    // ูุฑุญูู ฑ: ุงุฑุณุงู ุดูุงุฑู โ ูพุฑูฺฉุณ ูุนุงู
    client.EnableProxy()
    fmt.Printf("๐ Proxy: %v\n", client.IsProxyEnabled()) // true

    fmt.Print("Phone: ")
    phone, _ := reader.ReadString('\n')
    phone = strings.TrimSpace(phone)

    result, err := client.SendCodeExt(phone, "")
    if err != nil {
        log.Fatal(err)
    }

    // ูุฑุญูู ฒ: ุงุฑุณุงู ฺฉุฏ ุชุงุฏ โ ูพุฑูฺฉุณ ุบุฑูุนุงู
    client.DisableProxy()
    fmt.Printf("๐ Proxy: %v\n", client.IsProxyEnabled()) // false

    fmt.Print("Code: ")
    code, _ := reader.ReadString('\n')
    code = strings.TrimSpace(code)

    signIn, err := client.SignInExt(code, phone, result.PhoneCodeHash, result.TmpSession)
    if err != nil {
        log.Fatal(err)
    }

    client.ApplySignInResult(signIn)

    // ูุฑุญูู ณ: ุงุฌุฑุง ุฑุจุงุช โ ูพุฑูฺฉุณ ุฏูุจุงุฑู ูุนุงู
    client.EnableProxy()
    fmt.Printf("๐ Proxy: %v\n", client.IsProxyEnabled()) // true

    client.OnMessage(func(u *rubingo.Update) {
        u.Reply("ุณูุงู!")
    })

    client.Run()
}
```

---

### ูุซุงู ณ: ุชุบุฑ ูพุฑูฺฉุณ ุจู ุฏุฑุฎูุงุณุชโูุง

```go
func main() {
    proxies := []string{
        "http://user1:pass1@proxy1.com:8080",
        "http://user2:pass2@proxy2.com:9090",
        "http://user3:pass3@proxy3.com:7070",
    }

    client, err := rubingo.NewClient("my_bot",
        rubingo.WithProxy(proxies[0]),
        rubingo.WithProxyEnabled(true),
    )
    if err != nil {
        log.Fatal(err)
    }

    client.Connect()

    fmt.Println("Using proxy 1")
    client.SendCodeExt("989123456789", "")

    client.SetProxy(proxies[1])
    fmt.Println("Switched to proxy 2")

    client.SetProxy(proxies[2])
    fmt.Println("Switched to proxy 3")

    client.DisableProxy()
    fmt.Println("Direct connection (no proxy)")
}
```

---

### ูุซุงู ด: ูุงฺฏู ุจุง 2FA ู ูพุฑูฺฉุณ

```go
func main() {
    client, err := rubingo.NewClient("my_bot",
        rubingo.WithProxy("http://user:pass@host:port"),
        rubingo.WithProxyEnabled(true),
    )
    if err != nil {
        log.Fatal(err)
    }

    client.Connect()
    reader := bufio.NewReader(os.Stdin)

    fmt.Print("๐ฑ Phone: ")
    phone, _ := reader.ReadString('\n')
    phone = strings.TrimSpace(phone)

    result, err := client.SendCodeExt(phone, "")

    // ุงฺฏุฑ 2FA ูุนุงู ุจูุฏ
    if err != nil && errors.Is(err, rubingo.ErrSendPassKey) {
        fmt.Printf("๐ 2FA required! Hint: %s\n", result.AuthStatus.HintPassKey)

        for {
            fmt.Print("Enter 2FA password: ")
            passKey, _ := reader.ReadString('\n')
            passKey = strings.TrimSpace(passKey)

            result, err = client.SendCodeExt(phone, passKey)
            if err == nil {
                break
            }
            if errors.Is(err, rubingo.ErrInvalidPassKey) {
                fmt.Println("โ Wrong password, try again")
                continue
            }
            log.Fatal(err)
        }
    } else if err != nil {
        log.Fatal(err)
    }

    fmt.Println("โ Code sent!")

    fmt.Print("๐ Code: ")
    code, _ := reader.ReadString('\n')
    code = strings.TrimSpace(code)

    signIn, err := client.SignInExt(code, phone, result.PhoneCodeHash, result.TmpSession)
    if err != nil {
        log.Fatal(err)
    }

    client.ApplySignInResult(signIn)
    fmt.Printf("โ Welcome %s %s!\n", signIn.FirstName, signIn.LastName)
}
```

---

### ูุซุงู ต: ุจุฏูู ูพุฑูฺฉุณ (ุญุงูุช ูพุดโูุฑุถ)

```go
// ุจุฏูู ูฺ ุชูุธู ูพุฑูฺฉุณ - ุงุชุตุงู ูุณุชูู
client, _ := rubingo.NewClient("my_bot")
client.Connect()
// ููู ฺุฒ ูุณุชูู ู ุจุฏูู ูพุฑูฺฉุณ ฺฉุงุฑ ูโฺฉูุฏ
```

---

## ๐ซ ุงุณุชุซูุง ฺฉุฑุฏู ุนููุงุชโูุง

> **๐ก ุชูุถุญ ุณุงุฏู:**
>
> ฺฏุงู ูโุฎูุงูุฏ ูพุฑูฺฉุณ ูุนุงู ุจุงุดุฏ ูู ุจุนุถ ุนููุงุชโูุง ูุณุชูู (ุจุฏูู ูพุฑูฺฉุณ) ุงุฌุฑุง ุดููุฏ.
>
> **ูุซุงู ฺฉุงุฑุจุฑุฏ:**
> ูุฑุถ ฺฉู ุงุฒ ูพุฑูฺฉุณ ุฎุงุฑุฌ ุงุฒ ุงุฑุงู ุงุณุชูุงุฏู ูโฺฉู. ูู ุณุฑูุฑ ุฑูุจฺฉุง ุจุฑุง
> ฺฏุฑูุชู URL ุฌุฏุฏ (`getdcmess.iranlms.ir`) ููุท ุงุฒ ุฏุงุฎู ุงุฑุงู ุฌูุงุจ ูโุฏูุฏ.
> ูพุณ ุงู ุนููุงุช ุจุงุฏ ุจุฏูู ูพุฑูฺฉุณ ุจุงุดุฏ.

### ุนููุงุชโูุง ูุงุจู ุงุณุชุซูุง

| ุซุงุจุช | ุนููุงุช | ุชูุถุญ |
|------|--------|-------|
| `ProxyOpRefreshURL` | ฺฏุฑูุชู URL ุฌุฏุฏ | ุฏุฑุฎูุงุณุช ุจู `getdcmess.iranlms.ir` |
| `ProxyOpGetDCs` | ฺฏุฑูุชู ูุณุช ุณุฑูุฑูุง | ูุดุงุจู ุจุงูุง |
| `ProxyOpAPI` | ุฏุฑุฎูุงุณุชโูุง API | ุงุฑุณุงู ูพุงูุ ฺฏุฑูุชู ุงุทูุงุนุงุช ู... |
| `ProxyOpUpload` | ุขูพููุฏ ูุงู | ุนฺฉุณุ ูุฏูุ ูุงู |
| `ProxyOpDownload` | ุฏุงูููุฏ ูุงู | ุฏุงูููุฏ ุนฺฉุณุ ูุฏูุ ูุงู |
| `ProxyOpWebSocket` | ุงุชุตุงู WebSocket | ุฏุฑุงูุช ูพุงูโูุง ุฌุฏุฏ |

### ุฑูุด ฑ: ุงุณุชุซูุง ููฺฏุงู ุณุงุฎุช ฺฉูุงูุช

```go
client, _ := rubingo.NewClient("my_bot",
    rubingo.WithProxy("socks5://proxy:1080"),
    rubingo.WithProxyEnabled(true),
    rubingo.WithProxyExclude(
        rubingo.ProxyOpRefreshURL,  // ฺฏุฑูุชู URL ุจุฏูู ูพุฑูฺฉุณ
        rubingo.ProxyOpGetDCs,      // ฺฏุฑูุชู ุณุฑูุฑูุง ุจุฏูู ูพุฑูฺฉุณ
    ),
)
```

### ุฑูุด ฒ: ุงุณุชุซูุง ุฏุฑ ุฒูุงู ุงุฌุฑุง

```go
// ุงุณุชุซูุง ฺฉุฑุฏู
client.ExcludeFromProxy(rubingo.ProxyOpUpload)
client.ExcludeFromProxy(rubingo.ProxyOpDownload)

// ุจุฑฺฏุฑุฏุงูุฏู ุจู ุญุงูุช ุนุงุฏ (ุงุณุชูุงุฏู ุงุฒ ูพุฑูฺฉุณ)
client.IncludeInProxy(rubingo.ProxyOpUpload)

// ุจุฑุฑุณ ูุถุนุช
if client.IsExcludedFromProxy(rubingo.ProxyOpDownload) {
    fmt.Println("ุฏุงูููุฏ ุจุฏูู ูพุฑูฺฉุณ ุงูุฌุงู ูโุดูุฏ")
}
```

### ูุญูู ฺฉุงุฑ ุฏุงุฎู

ฺฉุชุงุจุฎุงูู ุฏู HTTP Client ุฏุงุฑุฏ:

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                                                         โ
โ   httpClient   โโโถ ุจุง ูพุฑูฺฉุณ (ุงฺฏุฑ ูุนุงู ุจุงุดุฏ)           โ
โ   directClient โโโถ ููุดู ุจุฏูู ูพุฑูฺฉุณ                   โ
โ                                                         โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

ููุช ุนููุงุช ุงุณุชุซูุง ุดุฏู ุจุงุดุฏุ ุงุฒ `directClient` ุงุณุชูุงุฏู ูโุดูุฏ:

```
ุฏุฑุฎูุงุณุช ุฌุฏุฏ
    โ
    โผ
ุขุง ุงู ุนููุงุช ุงุณุชุซูุง ุดุฏูุ
    โ
    โโโ ุจูู โโโถ directClient (ุจุฏูู ูพุฑูฺฉุณ)
    โ
    โโโ ูู  โโโถ httpClient (ุจุง ูพุฑูฺฉุณ ุงฺฏุฑ ูุนุงู ุจุงุดุฏ)
```

### ุฌุฏูู ูุชุฏูุง ุงุณุชุซูุง

| ูุชุฏ | ุชูุถุญ |
|-----|-------|
| `WithProxyExclude(ops...)` | ุงุณุชุซูุง ฺฉุฑุฏู ููฺฏุงู ุณุงุฎุช |
| `ExcludeFromProxy(ops...)` | ุงุณุชุซูุง ฺฉุฑุฏู ุฏุฑ ุฒูุงู ุงุฌุฑุง |
| `IncludeInProxy(ops...)` | ุจุฑฺฏุฑุฏุงูุฏู ุจู ุญุงูุช ุนุงุฏ |
| `IsExcludedFromProxy(op)` | ุจุฑุฑุณ ูุถุนุช ุงุณุชุซูุง (`bool`) |

> **๐ก ูฺฉุชู:** ุงุณุชุซูุง ฺฉุฑุฏู **thread-safe** ุงุณุช. ูโุชูุงูุฏ ุฏุฑ ูุฑ ูุญุธู ุงุฒ ูุฑ goroutine ุนููุงุช ุฑุง ุงุณุชุซูุง ุง ุดุงูู ฺฉูุฏ.

> **โ๏ธ ุชูุฌู:** ููุช ูพุฑูฺฉุณ ุบุฑูุนุงู ุงุณุชุ ููู ุนููุงุชโูุง ูุณุชูู ูุณุชูุฏ. ุงุณุชุซูุง ฺฉุฑุฏู ููุท ููุช ูพุฑูฺฉุณ ูุนุงู ุงุณุช ูุนูุง ุฏุงุฑุฏ.

---

## ๐ก ูฺฉุงุช ูพุดุฑูุชู

### ุณูุงุฑู ฑ: ูพุฑูฺฉุณ ุฎุงุฑุฌ + URL ุฏุงุฎู

```go
client, _ := rubingo.NewClient("my_bot",
    rubingo.WithProxy("socks5://germany:1080"),
    rubingo.WithProxyEnabled(true),
    // getdcmess.iranlms.ir ุจุงุฏ ุงุฒ ุฏุงุฎู ุงุฑุงู ุจุงุดุฏ
    rubingo.WithProxyExclude(
        rubingo.ProxyOpRefreshURL,
        rubingo.ProxyOpGetDCs,
    ),
)
```

### ุณูุงุฑู ฒ: ุขูพููุฏ/ุฏุงูููุฏ ุณุฑุนโุชุฑ ุจุฏูู ูพุฑูฺฉุณ

```go
client.ExcludeFromProxy(rubingo.ProxyOpUpload)
client.ExcludeFromProxy(rubingo.ProxyOpDownload)
// ุจูู ุนููุงุชโูุง ุงุฒ ูพุฑูฺฉุณุ ูู ูุงูโูุง ูุณุชูู
```

### ุณูุงุฑู ณ: ููุท WebSocket ุงุฒ ูพุฑูฺฉุณ

```go
client, _ := rubingo.NewClient("my_bot",
    rubingo.WithProxy("socks5://proxy:1080"),
    rubingo.WithProxyEnabled(true),
    rubingo.WithProxyExclude(
        rubingo.ProxyOpRefreshURL,
        rubingo.ProxyOpGetDCs,
        rubingo.ProxyOpAPI,
        rubingo.ProxyOpUpload,
        rubingo.ProxyOpDownload,
        // ููุท WebSocket ุงุณุชุซูุง ูุดุฏู โ ุงุฒ ูพุฑูฺฉุณ ุฑุฏ ูโุดูุฏ
    ),
)
```

---

## ๐ ูุฑูุช ุขุฏุฑุณ ูพุฑูฺฉุณ

### ูุฑูุชโูุง ูพุดุชุจุงู ุดุฏู

| ููุน | ูุฑูุช | ูุซุงู |
|-----|------|------|
| HTTP ุจุง ุฑูุฒ | `http://user:pass@host:port` | `http://admin:1234@proxy.com:8080` |
| HTTP ุจุฏูู ุฑูุฒ | `http://host:port` | `http://proxy.com:8080` |
| HTTPS ุจุง ุฑูุฒ | `https://user:pass@host:port` | `https://admin:1234@proxy.com:443` |
| SOCKS5 ุจุง ุฑูุฒ | `socks5://user:pass@host:port` | `socks5://admin:1234@proxy.com:1080` |
| SOCKS5 ุจุฏูู ุฑูุฒ | `socks5://host:port` | `socks5://proxy.com:1080` |

### โ๏ธ ฺฉุงุฑุงฺฉุชุฑูุง ุฎุงุต ุฏุฑ ุฑูุฒ ุนุจูุฑ

ุงฺฏุฑ ุฑูุฒ ุนุจูุฑ ูพุฑูฺฉุณ ุดูุง ุดุงูู ฺฉุงุฑุงฺฉุชุฑูุง ุฎุงุต ูุซู `@`ุ `=`ุ `#` ุจุงุดุฏ:

```go
// โ ุงุดุชุจุงู - ุงฺฏุฑ ุฑูุฒ ุดุงูู @ ุจุงุดุฏ
proxy := "http://user:p@ss@host:port"

// โ ุฏุฑุณุช - ุงุฒ URL encoding ุงุณุชูุงุฏู ฺฉูุฏ
proxy := "http://user:p%40ss@host:port"
```

| ฺฉุงุฑุงฺฉุชุฑ | URL Encoded |
|----------|-------------|
| `@` | `%40` |
| `#` | `%23` |
| `=` | `%3D` |
| `:` | `%3A` |
| `/` | `%2F` |
| `?` | `%3F` |
| `&` | `%26` |
| `+` | `%2B` |
| ` ` (ูุงุตูู) | `%20` |

---

## ๐ ุฌุฏูู ูุชุฏูุง

### ๐ง ุชูุธูุงุช (Options) โ ููฺฏุงู ุณุงุฎุช ฺฉูุงูุช

| ูุชุฏ | ุชูุถุญ | ูุซุงู |
|-----|-------|------|
| `WithProxy(url)` | ุชูุธู ุขุฏุฑุณ ูพุฑูฺฉุณ | `WithProxy("http://user:pass@host:port")` |
| `WithProxyEnabled(bool)` | ูุนุงู/ุบุฑูุนุงู ููฺฏุงู ุณุงุฎุช | `WithProxyEnabled(true)` |

### โก ูุชุฏูุง โ ุฏุฑ ุฒูุงู ุงุฌุฑุง

#### ุชูุธู ู ฺฉูุชุฑู ูพุฑูฺฉุณ

| ูุชุฏ | ุชูุถุญ | ุจุฑฺฏุดุช |
|-----|-------|--------|
| `client.SetProxy(url)` | ุชุบุฑ ุขุฏุฑุณ ูพุฑูฺฉุณ | โ |
| `client.EnableProxy()` | ูุนุงู ฺฉุฑุฏู ูพุฑูฺฉุณ | โ |
| `client.DisableProxy()` | ุบุฑูุนุงู ฺฉุฑุฏู ูพุฑูฺฉุณ | โ |
| `client.IsProxyEnabled()` | ุขุง ูพุฑูฺฉุณ ูุนุงู ุงุณุชุ | `bool` |

#### ุงุณุชุซูุง ฺฉุฑุฏู ุนููุงุชโูุง

| ูุชุฏ | ุชูุถุญ | ุจุฑฺฏุดุช |
|-----|-------|--------|
| `client.ExcludeFromProxy(ops...)` | ุงุณุชุซูุง ฺฉุฑุฏู ุนููุงุช | โ |
| `client.IncludeInProxy(ops...)` | ุจุฑฺฏุฑุฏุงูุฏู ุจู ุญุงูุช ุนุงุฏ | โ |
| `client.IsExcludedFromProxy(op)` | ุขุง ุนููุงุช ุงุณุชุซูุง ุดุฏูุ | `bool` |

### ๐ ุฑูุชุงุฑ ูพุดโูุฑุถ

| ุญุงูุช | ุชูุถุญ |
|------|-------|
| ูพุดโูุฑุถ | ูพุฑูฺฉุณ **ุบุฑูุนุงู** ุงุณุช |
| ุจุนุฏ ุงุฒ `EnableProxy()` | ูพุฑูฺฉุณ **ูุนุงู ูโูุงูุฏ** ุชุง `DisableProxy()` ุตุฏุง ุดูุฏ |
| ุจุนุฏ ุงุฒ `DisableProxy()` | ูพุฑูฺฉุณ **ุบุฑูุนุงู ูโูุงูุฏ** ุชุง `EnableProxy()` ุตุฏุง ุดูุฏ |
| `SetProxy()` | ููุท ุขุฏุฑุณ ุฑุง ุนูุถ ูโฺฉูุฏุ ูุถุนุช ุชุบุฑ ููโฺฉูุฏ |

---

## ๐ ูพุฑูฺฉุณ ุฑู ฺู ุจุฎุดโูุง ุงุนูุงู ูโุดูุฏุ

ููุช ูพุฑูฺฉุณ ูุนุงู ุจุงุดุฏุ **ุชูุงู** ุงุฑุชุจุงุทุงุช ุงุฒ ูพุฑูฺฉุณ ุฑุฏ ูโุดููุฏ:

| ูุชุฏ | ุชูุถุญ | ุจุง ูพุฑูฺฉุณุ |
|-----|-------|------------|
| `SendCodeExt()` | ุงุฑุณุงู ุดูุงุฑู ุชููู | โ |
| `SignInExt()` | ุงุฑุณุงู ฺฉุฏ ุชุงุฏ | โ |
| `SendCode()` + 2FA | ุงุฑุณุงู ุฑูุฒ ุฏู ูุฑุญููโุง | โ |
| `GetDCs()` | ุฏุฑุงูุช URL ุณุฑูุฑูุง ุฑูุจฺฉุง | โ |
| `SendMessage()` | ุงุฑุณุงู ูพุงู | โ |
| `DownloadFile()` | ุฏุงูููุฏ ูุงู | โ |
| `Upload()` | ุขูพููุฏ ูุงู | โ |
| `Run()` | ุงุชุตุงู WebSocket | โ |
| ุชูุงู API calls | ูุฑ ุฏุฑุฎูุงุณุช ุจู ุฑูุจฺฉุง | โ |

---

## โ ุณูุงูุงุช ูุชุฏุงูู

**ฑ. ุขุง ุจุงุฏ ูุจู ุงุฒ ูุฑ ุฏุฑุฎูุงุณุช `EnableProxy()` ุจุฒููุ**

ูู! ฺฉ ุจุงุฑ ฺฉุงู ุงุณุช. ุงูุง ุงฺฏุฑ ูุฑ ุจุงุฑ ูู ุจุฒูุฏ ูุดฺฉู ุงุฌุงุฏ ููโุดูุฏ.

```go
client.EnableProxy()      // โ ููุท ฺฉ ุจุงุฑ

client.SendCodeExt(...)   // ุจุง ูพุฑูฺฉุณ โ
client.SignInExt(...)     // ุจุง ูพุฑูฺฉุณ โ
client.SendMessage(...)   // ุจุง ูพุฑูฺฉุณ โ
```

---

**ฒ. ุงฺฏุฑ ุขุฏุฑุณ ูพุฑูฺฉุณ ุงุดุชุจุงู ุจุงุดุฏ ฺู ูโุดูุฏุ**

ุฏุฑุฎูุงุณุชโูุง ุฎุทุง ูโุฏููุฏ ู ฺฉ ูพุงู ูุดุฏุงุฑ ุฏุฑ ูุงฺฏ ฺุงูพ ูโุดูุฏ:

```
[rubingo] Warning: invalid proxy URL: ...
```

---

**ณ. ุขุง ูโุชูุงูู ุจุฏูู ูพุฑูฺฉุณ ุดุฑูุน ฺฉูู ู ุจุนุฏุงู ูุนุงู ฺฉููุ**

ุจูู:

```go
client, _ := rubingo.NewClient("my_bot")
client.Connect()

// ุจุนุฏุงู ...
client.SetProxy("http://user:pass@host:port")
client.EnableProxy()
```

---

**ด. ุขุง `SetProxy()` ูพุฑูฺฉุณ ุฑุง ูุนุงู ูู ูโฺฉูุฏุ**

ูู! ููุท ุขุฏุฑุณ ุฑุง ุชุบุฑ ูโุฏูุฏ. ุจุงุฏ ุฌุฏุงฺฏุงูู ูุนุงู ฺฉูุฏ:

```go
// โ ููุท ุขุฏุฑุณ ุนูุถ ุดุฏุ ูู ูููุฒ ุบุฑูุนุงู ุงุณุช
client.SetProxy("http://user:pass@host:port")

// โ ุญุงูุง ูุนุงู ฺฉูุฏ
client.EnableProxy()
```

---

**ต. ุขุง ูพุฑูฺฉุณ SOCKS5 ูพุดุชุจุงู ูโุดูุฏุ**

ุจูู! ููุท ุขุฏุฑุณ ุฑุง ุจุง `socks5://` ุดุฑูุน ฺฉูุฏ:

```go
rubingo.WithProxy("socks5://user:pass@host:1080")
```

---

**ถ. ููุช `DisableProxy()` ูโุฒููุ ุขุฏุฑุณ ูพุฑูฺฉุณ ูพุงฺฉ ูโุดูุฏุ**

ูู! ููุท ุบุฑูุนุงู ูโุดูุฏ. ุขุฏุฑุณ ุฐุฎุฑู ูโูุงูุฏ:

```go
client.SetProxy("http://user:pass@host:port")
client.EnableProxy()   // ูุนุงู โ

client.DisableProxy()  // ุบุฑูุนุงู โ (ุขุฏุฑุณ ูููุฒ ูุณุช)

client.EnableProxy()   // ุฏูุจุงุฑู ูุนุงู โ (ุจุง ููุงู ุขุฏุฑุณ ูุจู)
```

---

**ท. ูุฑู `ExcludeFromProxy` ู `DisableProxy` ฺุณุชุ**

| ูุชุฏ | ุชุฃุซุฑ |
|-----|-------|
| `DisableProxy()` | ููู ุนููุงุชโูุง ุจุฏูู ูพุฑูฺฉุณ |
| `ExcludeFromProxy(op)` | ููุท ุขู ุนููุงุช ุจุฏูู ูพุฑูฺฉุณุ ุจูู ุจุง ูพุฑูฺฉุณ |

---

**ธ. ุขุง ูโุชูุงูู ฺูุฏ ุนููุงุช ุฑุง ููุฒูุงู ุงุณุชุซูุง ฺฉููุ**

ุจูู!

```go
// ููฺฏุงู ุณุงุฎุช
rubingo.WithProxyExclude(
    rubingo.ProxyOpRefreshURL,
    rubingo.ProxyOpGetDCs,
    rubingo.ProxyOpUpload,
)

// ุฏุฑ ุฒูุงู ุงุฌุฑุง
client.ExcludeFromProxy(
    rubingo.ProxyOpDownload,
    rubingo.ProxyOpWebSocket,
)
```

---

## ๐ง ุนุจโุงุจ

### ูุดฺฉู: `connection refused` ุง `timeout`

- ุขุฏุฑุณ ูพุฑูฺฉุณ ุฑุง ุจุฑุฑุณ ฺฉูุฏ
- ูุทูุฆู ุดูุฏ ุณุฑูุฑ ูพุฑูฺฉุณ ุฏุฑ ุฏุณุชุฑุณ ุงุณุช
- ูพูุฑุช ุฑุง ุจุฑุฑุณ ฺฉูุฏ

```go
client.EnableProxy()
fmt.Println("Proxy enabled:", client.IsProxyEnabled())

_, err := client.SendCodeExt("989123456789", "")
if err != nil {
    fmt.Println("โ Error:", err)

    // ุชูุงุด ุจุฏูู ูพุฑูฺฉุณ
    client.DisableProxy()
    _, err = client.SendCodeExt("989123456789", "")
    if err != nil {
        fmt.Println("โ Without proxy also failed:", err)
    } else {
        fmt.Println("โ Works without proxy")
    }
}
```

---

### ูุดฺฉู: `407 Proxy Authentication Required`

ูุงู ฺฉุงุฑุจุฑ ุง ุฑูุฒ ุนุจูุฑ ูพุฑูฺฉุณ ุงุดุชุจุงู ุงุณุช. ููุงุฏุฑ ุฑุง ุจุฑุฑุณ ฺฉูุฏ.

---

### ูุดฺฉู: ฺฉุงุฑุงฺฉุชุฑูุง ุฎุงุต ุฏุฑ ุฑูุฒ ุนุจูุฑ

ุงุฒ `net/url` ุจุฑุง encode ุฎูุฏฺฉุงุฑ ุงุณุชูุงุฏู ฺฉูุฏ:

```go
import "net/url"

proxyURL := &url.URL{
    Scheme: "http",
    User:   url.UserPassword("username", "p@ss=word#123"),
    Host:   "proxy.com:8080",
}

client.SetProxy(proxyURL.String())
// ูุชุฌู: http://username:p%40ss%3Dword%23123@proxy.com:8080
```

---

## ๐ ุฏุงฺฏุฑุงู ุนููฺฉุฑุฏ

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                        ุดุฑูุน ุจุฑูุงูู                          โ
โ                                                             โ
โ  client, _ := rubingo.NewClient("bot",                      โ
โ      rubingo.WithProxy("http://..."),                       โ
โ  )                                                          โ
โ  client.Connect()                                           โ
โ                                                             โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ  โ   client.EnableProxy()  โ    โ  client.DisableProxy()  โ โ
โ  โ   ูพุฑูฺฉุณ: ูุนุงู ๐ข       โ    โ  ูพุฑูฺฉุณ: ุบุฑูุนุงู ๐ด     โ โ
โ  โ                         โ    โ                         โ โ
โ  โ  ุดูุง โโโบ ูพุฑูฺฉุณ โโโบ ุฑู  โ    โ  ุดูุง โโโโโโโโโโโโโโโบ ุฑู โ โ
โ  โ          ุจฺฉุง           โ    โ         ุจฺฉุง            โ โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ                                                             โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ  โ              client.IsProxyEnabled()                    โ โ
โ  โ              โ true / false                             โ โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ                                                             โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ  โ  client.SetProxy("http://new-proxy:port")               โ โ
โ  โ  โ ููุท ุขุฏุฑุณ ุนูุถ ูโุดูุฏ                                  โ โ
โ  โ  โ ูุถุนุช ูุนุงู/ุบุฑูุนุงู ุชุบุฑ ููโฺฉูุฏ                     โ โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐ ุฎูุงุตู ููุง

1. ุขุฏุฑุณ ูพุฑูฺฉุณ ุจุฏูุฏ: `WithProxy("http://...")` ุง `SetProxy("http://...")`
2. ูุนุงู ฺฉูุฏ: `WithProxyEnabled(true)` ุง `EnableProxy()`
3. ุชูุงู! ููู ุฏุฑุฎูุงุณุชโูุง ุงุฒ ูพุฑูฺฉุณ ุฑุฏ ูโุดููุฏ
4. ูุฑ ููุช ุฎูุงุณุชุฏ ุบุฑูุนุงู ฺฉูุฏ: `DisableProxy()`
5. ูพุดโูุฑุถ: **ุบุฑูุนุงู** ๐ด

---

## ๐ License

MIT License
