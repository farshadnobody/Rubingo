---
layout: default
title: ูพุฑูฺฉุณ
permalink: /docs/proxy/
---



# ๐ ุฑุงูููุง ูพุฑูฺฉุณ

ุชูุธู HTTPุ HTTPS ู SOCKS5 ุจุง ุงูฺฉุงู ุชุบุฑ ุฏุฑ ุฒูุงู ุงุฌุฑุง ู ุงุณุชุซูุง ฺฉุฑุฏู ุนููุงุชโูุง.

---

## ๐ ููุฑุณุช ูุทุงูุจ

- [ูพุฑูฺฉุณ ฺุณุชุ](#-ูพุฑูฺฉุณ-ฺุณุช)
- [ุฑูุดโูุง ุชูุธู](#-ุฑูุดูุง-ุชูุธู-ูพุฑูฺฉุณ)
- [ูุนุงู ู ุบุฑูุนุงู ฺฉุฑุฏู](#-ูุนุงู-ู-ุบุฑูุนุงู-ฺฉุฑุฏู)
- [ุชุบุฑ ุฏุฑ ุฒูุงู ุงุฌุฑุง](#-ุชุบุฑ-ูพุฑูฺฉุณ-ุฏุฑ-ุฒูุงู-ุงุฌุฑุง)
- [ุงุณุชุซูุง ฺฉุฑุฏู ุนููุงุชโูุง](#-ุงุณุชุซูุง-ฺฉุฑุฏู-ุนููุงุชูุง)
- [ูุฑูุช ุขุฏุฑุณ](#-ูุฑูุช-ุขุฏุฑุณ-ูพุฑูฺฉุณ)
- [ุฌุฏูู ูุชุฏูุง](#-ุฌุฏูู-ูุชุฏูุง)
- [ุณูุงูุงุช ูุชุฏุงูู](#-ุณูุงูุงุช-ูุชุฏุงูู)

---

## ๐ค ูพุฑูฺฉุณ ฺุณุชุ

> ูพุฑูฺฉุณ ูุซู ฺฉ **ูุงุณุทู** ุจู ุดูุง ู ุงูุชุฑูุช ุงุณุช. ููุช ูุนุงู ุจุงุดูุ ุฏุฑุฎูุงุณุชโูุง ุงุจุชุฏุง ุจู ุณุฑูุฑ ูพุฑูฺฉุณ ูโุฑู ู ุงุฒ ุงููุฌุง ุจู ุฑูุจฺฉุง ุงุฑุณุงู ูโุดู.
>
> **ฺุฑุง ุงุณุชูุงุฏู ฺฉููุ**
> - ุฏูุฑ ุฒุฏู ูุญุฏูุฏุชโูุง ุดุจฺฉู
> - ุงูุฒุงุด ุงููุช ู ุญุฑู ุฎุตูุต
> - ุชุบุฑ IP ุจุฑุง ุฌููฺฏุฑ ุงุฒ ุจูุงฺฉ ุดุฏู

---

## ๐ง ุฑูุดโูุง ุชูุธู ูพุฑูฺฉุณ

### ุฑูุด ฑ โ ููฺฏุงู ุณุงุฎุช ฺฉูุงูุช (ูพุดููุงุฏ โ)

```go
client, err := rubingo.NewClient("my_bot",
    rubingo.WithProxy("http://user:pass@host:port"),
    rubingo.WithProxyEnabled(true),
)
```

> โ๏ธ **ูฺฉุชู ููู:** ุงฺฏุฑ ููุท `WithProxy` ุจููุณ ูู `WithProxyEnabled(true)` ูููุณุ ูพุฑูฺฉุณ ุบุฑูุนุงู ุฎูุงูุฏ ุจูุฏ!

---

### ุฑูุด ฒ โ ูุนุงู ฺฉุฑุฏู ุจุนุฏุงู

```go
client, _ := rubingo.NewClient("my_bot",
    rubingo.WithProxy("http://user:pass@host:port"),
)
client.Connect()

// ... ฺฉุฏูุง ุฏฺฏุฑ ...

client.EnableProxy() // ุญุงูุง ูุนุงู ุดุฏ
```

---

### ุฑูุด ณ โ ุชูุธู ุจุนุฏ ุงุฒ ุณุงุฎุช ฺฉูุงูุช

```go
client, _ := rubingo.NewClient("my_bot")
client.Connect()

client.SetProxy("http://user:pass@host:port")
client.EnableProxy()
```

---

## โก ูุนุงู ู ุบุฑูุนุงู ฺฉุฑุฏู

```go
client.EnableProxy()   // ุฑูุดู ๐ข
client.DisableProxy()  // ุฎุงููุด ๐ด

if client.IsProxyEnabled() {
    fmt.Println("ูพุฑูฺฉุณ ูุนุงู ุงุณุช โ")
}
```

---

## ๐ ุชุบุฑ ูพุฑูฺฉุณ ุฏุฑ ุฒูุงู ุงุฌุฑุง

```go
client.SetProxy("http://user1:pass1@proxy1.com:8080")
client.EnableProxy()

// ุชุบุฑ ุจู ูพุฑูฺฉุณ ุฏูู (ุจุฏูู EnableProxy ุฏูุจุงุฑู)
client.SetProxy("http://user2:pass2@proxy2.com:9090")

// ุบุฑูุนุงู ฺฉุฑุฏู
client.DisableProxy()
```

> ๐ก **ูฺฉุชู:** ุชุบุฑ ูพุฑูฺฉุณ thread-safe ุงุณุช. ุญุช ุงฺฏุฑ ููุงู ูุญุธู ุฏุฑุฎูุงุณุชโูุง ุฏุฑ ุญุงู ุงุฑุณุงู ุจุงุดูุฏุ ูุดฺฉู ูพุด ููโุขุฏ.

---

## ๐ซ ุงุณุชุซูุง ฺฉุฑุฏู ุนููุงุชโูุง

ฺฏุงู ูโุฎูุงูุฏ ูพุฑูฺฉุณ ูุนุงู ุจุงุดุฏ ูู ุจุนุถ ุนููุงุชโูุง ูุณุชูู (ุจุฏูู ูพุฑูฺฉุณ) ุงุฌุฑุง ุดููุฏ.

> ๐ก **ูุซุงู ฺฉุงุฑุจุฑุฏ:**
>
> ูุฑุถ ฺฉู ุงุฒ ูพุฑูฺฉุณ ุฎุงุฑุฌ ุงุฒ ุงุฑุงู ุงุณุชูุงุฏู ูโฺฉู. ูู ุณุฑูุฑ ุฑูุจฺฉุง ุจุฑุง
> ฺฏุฑูุชู URL ุฌุฏุฏ (`getdcmess.iranlms.ir`) ููุท ุงุฒ ุฏุงุฎู ุงุฑุงู ุฌูุงุจ ูโุฏูุฏ.
> ูพุณ ุงู ุนููุงุช ุจุงุฏ ุจุฏูู ูพุฑูฺฉุณ ุจุงุดุฏ.

### ุนููุงุชโูุง ูุงุจู ุงุณุชุซูุง

| ุซุงุจุช | ุนููุงุช | ุชูุถุญ |
|------|--------|-------|
| `ProxyOpRefreshURL` | ฺฏุฑูุชู URL ุฌุฏุฏ | ุฏุฑุฎูุงุณุช ุจู `getdcmess.iranlms.ir` |
| `ProxyOpGetDCs` | ฺฏุฑูุชู ูุณุช ุณุฑูุฑูุง | ูุดุงุจู ุจุงูุง |
| `ProxyOpAPI` | ุฏุฑุฎูุงุณุชโูุง API | ุงุฑุณุงู ูพุงูุ ฺฏุฑูุชู ุงุทูุงุนุงุช ู... |
| `ProxyOpUpload` | ุขูพููุฏ ูุงู | ุนฺฉุณุ ูุฏูุ ูุงู |
| `ProxyOpDownload` | ุฏุงูููุฏ ูุงู | ุฏุงูููุฏ ุนฺฉุณุ ูุฏูุ ูุงู |
| `ProxyOpWebSocket` | ุงุชุตุงู WebSocket | ุฏุฑุงูุช ูพุงูโูุง ุฌุฏุฏ |

### ุฑูุด ฑ โ ููฺฏุงู ุณุงุฎุช ฺฉูุงูุช

```go
client, _ := rubingo.NewClient("my_bot",
    rubingo.WithProxy("socks5://proxy:1080"),
    rubingo.WithProxyEnabled(true),
    rubingo.WithProxyExclude(
        rubingo.ProxyOpRefreshURL,  // ฺฏุฑูุชู URL ุจุฏูู ูพุฑูฺฉุณ
        rubingo.ProxyOpGetDCs,      // ฺฏุฑูุชู ุณุฑูุฑูุง ุจุฏูู ูพุฑูฺฉุณ
    ),
)
```

### ุฑูุด ฒ โ ุฏุฑ ุฒูุงู ุงุฌุฑุง

```go
// ุงุณุชุซูุง ฺฉุฑุฏู
client.ExcludeFromProxy(rubingo.ProxyOpUpload)
client.ExcludeFromProxy(rubingo.ProxyOpDownload)

// ุจุฑฺฏุฑุฏุงูุฏู ุจู ุญุงูุช ุนุงุฏ (ุงุณุชูุงุฏู ุงุฒ ูพุฑูฺฉุณ)
client.IncludeInProxy(rubingo.ProxyOpUpload)

// ุจุฑุฑุณ ูุถุนุช
if client.IsExcludedFromProxy(rubingo.ProxyOpDownload) {
    fmt.Println("ุฏุงูููุฏ ุจุฏูู ูพุฑูฺฉุณ ุงูุฌุงู ูโุดูุฏ")
}
```

### ูุญูู ฺฉุงุฑ ุฏุงุฎู

ฺฉุชุงุจุฎุงูู ุฏู HTTP Client ุฏุงุฑุฏ:

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                                                         โ
โ   httpClient   โโโถ ุจุง ูพุฑูฺฉุณ (ุงฺฏุฑ ูุนุงู ุจุงุดุฏ)           โ
โ   directClient โโโถ ููุดู ุจุฏูู ูพุฑูฺฉุณ                   โ
โ                                                         โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

ููุช ุนููุงุช ุงุณุชุซูุง ุดุฏู ุจุงุดุฏุ ุงุฒ `directClient` ุงุณุชูุงุฏู ูโุดูุฏ. ุฏุฑ ุบุฑ ุงู ุตูุฑุช ุงุฒ `httpClient`.

```
ุฏุฑุฎูุงุณุช ุฌุฏุฏ
    โ
    โผ
ุขุง ุงู ุนููุงุช ุงุณุชุซูุง ุดุฏูุ
    โ
    โโโ ุจูู โโโถ directClient (ุจุฏูู ูพุฑูฺฉุณ)
    โ
    โโโ ูู  โโโถ httpClient (ุจุง ูพุฑูฺฉุณ ุงฺฏุฑ ูุนุงู ุจุงุดุฏ)
```

### ูุซุงู ฺฉุงูู

```go
client, _ := rubingo.NewClient("my_bot",
    // ูพุฑูฺฉุณ ุฎุงุฑุฌ ุงุฒ ุงุฑุงู
    rubingo.WithProxy("socks5://germany-proxy:1080"),
    rubingo.WithProxyEnabled(true),

    // ุงูโูุง ุจุงุฏ ุงุฒ ุฏุงุฎู ุงุฑุงู ุจุงุดูุฏ
    rubingo.WithProxyExclude(
        rubingo.ProxyOpRefreshURL,
        rubingo.ProxyOpGetDCs,
    ),
)

client.Connect()
client.Start("")

// API ู WebSocket ุงุฒ ูพุฑูฺฉุณ โ
// ฺฏุฑูุชู URL ูุณุชูู โ

// ุจุนุฏุงู ูโุฎูุงูู ุขูพููุฏ ูู ูุณุชูู ุจุงุดุฏ
client.ExcludeFromProxy(rubingo.ProxyOpUpload)
```

---

## ๐ ูุฑูุช ุขุฏุฑุณ ูพุฑูฺฉุณ

| ููุน | ูุฑูุช |
|-----|------|
| HTTP ุจุง ุฑูุฒ | `http://user:pass@host:port` |
| HTTP ุจุฏูู ุฑูุฒ | `http://host:port` |
| HTTPS | `https://user:pass@host:443` |
| SOCKS5 | `socks5://user:pass@host:1080` |

> โ๏ธ **ฺฉุงุฑุงฺฉุชุฑูุง ุฎุงุต ุฏุฑ ุฑูุฒ ุนุจูุฑ:**
> ุงฺฏุฑ ุฑูุฒ ุดุงูู `@`ุ `=`ุ `#` ุจุงุดูุ URL encode ฺฉู:
> `p@ss=word` โ `p%40ss%3Dword`

---

## ๐ ุฌุฏูู ูุชุฏูุง

### ุชูุธู ู ฺฉูุชุฑู ูพุฑูฺฉุณ

| ูุชุฏ | ุชูุถุญ |
|-----|-------|
| `WithProxy(url)` | ุชูุธู ุขุฏุฑุณ ููฺฏุงู ุณุงุฎุช |
| `WithProxyEnabled(bool)` | ูุถุนุช ุงููู ููฺฏุงู ุณุงุฎุช |
| `SetProxy(url)` | ุชุบุฑ ุขุฏุฑุณ ุฏุฑ ุฒูุงู ุงุฌุฑุง |
| `EnableProxy()` | ูุนุงู ฺฉุฑุฏู |
| `DisableProxy()` | ุบุฑูุนุงู ฺฉุฑุฏู |
| `IsProxyEnabled()` | ูุถุนุช ูุนู (`bool`) |

### ุงุณุชุซูุง ฺฉุฑุฏู ุนููุงุชโูุง

| ูุชุฏ | ุชูุถุญ |
|-----|-------|
| `WithProxyExclude(ops...)` | ุงุณุชุซูุง ฺฉุฑุฏู ููฺฏุงู ุณุงุฎุช |
| `ExcludeFromProxy(ops...)` | ุงุณุชุซูุง ฺฉุฑุฏู ุฏุฑ ุฒูุงู ุงุฌุฑุง |
| `IncludeInProxy(ops...)` | ุจุฑฺฏุฑุฏุงูุฏู ุจู ุญุงูุช ุนุงุฏ |
| `IsExcludedFromProxy(op)` | ุจุฑุฑุณ ูุถุนุช ุงุณุชุซูุง (`bool`) |

> ๐ **ูพุดโูุฑุถ:** ูพุฑูฺฉุณ ุบุฑูุนุงู ุงุณุช ู ูฺ ุนููุงุช ุงุณุชุซูุง ูุดุฏู.

---

## โ ุณูุงูุงุช ูุชุฏุงูู

**ุขุง ุจุงุฏ ูุจู ุงุฒ ูุฑ ุฏุฑุฎูุงุณุช `EnableProxy` ุจุฒููุ**

ูู! ฺฉ ุจุงุฑ ฺฉุงู ุงุณุช. ูพุฑูฺฉุณ ูุนุงู ูโูุงูุฏ ุชุง `DisableProxy()` ุตุฏุง ุดูุฏ.

---

**ููุช `DisableProxy` ูโุฒููุ ุขุฏุฑุณ ูพุงฺฉ ูโุดูุฏุ**

ูู! ููุท ุบุฑูุนุงู ูโุดูุฏ. ุขุฏุฑุณ ุฐุฎุฑู ูโูุงูุฏ ู ุจุง `EnableProxy()` ุฏูุจุงุฑู ูุนุงู ูโุดูุฏ.

---

**ุขุง SOCKS5 ูพุดุชุจุงู ูโุดูุฏุ**

ุจูู! ููุท ุขุฏุฑุณ ุฑุง ุจุง `socks5://` ุดุฑูุน ฺฉู:

```go
rubingo.WithProxy("socks5://user:pass@host:1080")
```

---

**ูุฑู `ExcludeFromProxy` ู `DisableProxy` ฺุณุชุ**

| ูุชุฏ | ุชุฃุซุฑ |
|-----|-------|
| `DisableProxy()` | ููู ุนููุงุชโูุง ุจุฏูู ูพุฑูฺฉุณ |
| `ExcludeFromProxy(op)` | ููุท ุขู ุนููุงุช ุจุฏูู ูพุฑูฺฉุณ |

---

**ุงฺฏุฑ ูพุฑูฺฉุณ ุบุฑูุนุงู ุจุงุดุฏุ ุงุณุชุซูุง ฺฉุฑุฏู ุชุฃุซุฑ ุฏุงุฑุฏุ**

ูู! ููุช ูพุฑูฺฉุณ ุบุฑูุนุงู ุงุณุชุ ููู ุนููุงุชโูุง ูุณุชูู ูุณุชูุฏ. ุงุณุชุซูุง ฺฉุฑุฏู ููุท ููุช ูพุฑูฺฉุณ ูุนุงู ุงุณุช ูุนู ุฏุงุฑุฏ.

---

**ุขุง ูโุชูุงูู ฺูุฏ ุนููุงุช ุฑุง ููุฒูุงู ุงุณุชุซูุง ฺฉููุ**

ุจูู!

```go
// ููฺฏุงู ุณุงุฎุช
rubingo.WithProxyExclude(
    rubingo.ProxyOpRefreshURL,
    rubingo.ProxyOpGetDCs,
    rubingo.ProxyOpUpload,
)

// ุฏุฑ ุฒูุงู ุงุฌุฑุง
client.ExcludeFromProxy(
    rubingo.ProxyOpDownload,
    rubingo.ProxyOpWebSocket,
)
```

---

**ุขุง ุงุณุชุซูุง ฺฉุฑุฏู thread-safe ุงุณุชุ**

ุจูู! ูโุชูุงูุฏ ุฏุฑ ูุฑ ูุญุธู ุงุฒ ูุฑ goroutine ุนููุงุช ุฑุง ุงุณุชุซูุง ุง ุดุงูู ฺฉูุฏ.

---

## ๐ก ูฺฉุงุช ูพุดุฑูุชู

### ุณูุงุฑู ฑ: ูพุฑูฺฉุณ ุฎุงุฑุฌ + API ุฏุงุฎู

```go
client, _ := rubingo.NewClient("my_bot",
    rubingo.WithProxy("socks5://germany:1080"),
    rubingo.WithProxyEnabled(true),
    rubingo.WithProxyExclude(
        rubingo.ProxyOpRefreshURL,  // getdcmess.iranlms.ir ุจุงุฏ ุฏุงุฎู ุจุงุดุฏ
        rubingo.ProxyOpGetDCs,
    ),
)
```

### ุณูุงุฑู ฒ: ุขูพููุฏ/ุฏุงูููุฏ ุณุฑุนโุชุฑ ุจุฏูู ูพุฑูฺฉุณ

```go
client.ExcludeFromProxy(rubingo.ProxyOpUpload)
client.ExcludeFromProxy(rubingo.ProxyOpDownload)
// ุจูู ุนููุงุชโูุง ุงุฒ ูพุฑูฺฉุณุ ูู ูุงูโูุง ูุณุชูู
```

### ุณูุงุฑู ณ: ููุท WebSocket ุงุฒ ูพุฑูฺฉุณ

```go
client, _ := rubingo.NewClient("my_bot",
    rubingo.WithProxy("socks5://proxy:1080"),
    rubingo.WithProxyEnabled(true),
    rubingo.WithProxyExclude(
        rubingo.ProxyOpRefreshURL,
        rubingo.ProxyOpGetDCs,
        rubingo.ProxyOpAPI,
        rubingo.ProxyOpUpload,
        rubingo.ProxyOpDownload,
        // ููุท WebSocket ุงุณุชุซูุง ูุดุฏู
    ),
)
```
